function StateTrailHelper(def,depth){BaseObject.apply(this,arguments);if(arguments.length>0)this.set_default(def);this.set_capacity(depth);}StateTrailHelper.Inherit(BaseObject,"StateTrailHelper");StateTrailHelper.ImplementProperty("default",new InitializeParameter("Default value",null));StateTrailHelper.prototype.$capacity=1;StateTrailHelper.prototype.get_capacity=function(){return this.$capacity;};StateTrailHelper.prototype.set_capacity=function(v){this.$capacity=v>0?v:0;if(this.$capacity>0&&this.$stack.length>this.$capacity){this.$stack=this.$stack.slice(this.$stack.length-this.$capacity);}else{this.$stack=[];}};StateTrailHelper.prototype.$stack=new InitializeArray("States");StateTrailHelper.prototype.push=function(v){if(this.$stack.length<this.$capacity)this.$stack.push(v);};StateTrailHelper.prototype.pull=function(v){if(this.$stack.length>0)return this.$stack.pop();return this.get_default();};StateTrailHelper.prototype.set=function(v){if(this.$stack.length<this.$capacity)this.$stack.push(v);if(this.$capacity>0)this.$stack[this.$stack-1]=v;};StateTrailHelper.prototype.clear=function(){this.$stack=[];};StateTrailHelper.prototype.poll=function(){if(this.$stack.length>0)return this.$stack[this.$stack.length-1];return this.get_default();};