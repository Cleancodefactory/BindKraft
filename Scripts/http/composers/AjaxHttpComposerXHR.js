function AjaxHttpComposerXHR(req){BaseObject.apply(this,arguments);if(BaseObject.is(req,"IAjaxHttpRequest")){this.request=req;}else{throw"req must be IAjaxHttpRequest";}}AjaxHttpComposerXHR.Inherit(BaseObject,"AjaxHttpComposerXHR");AjaxHttpComposerXHR.Implement(IAjaxHttpRequestComposer);AjaxHttpComposerXHR.prototype.xhr=null;AjaxHttpComposerXHR.prototype.request=null;AjaxHttpComposerXHR.prototype.composeRequest=function(){this.OnCreateCommunicator();this.OnOpenCommunicator();this.OnFillStandardXHR();this.OnFillHeaders();};AjaxHttpComposerXHR.prototype.OnCreateCommunicator=function(){this.xhr=req.get_communicator();if(this.xhr==null){var xhr=new XMLHttpRequest();this.request.set_communicator(xhr);this.xhr=xhr;}};AjaxHttpComposerXHR.prototype.OnOpenCommunicator=function(){this.xhr.open(this.request.get_verb()||"GET",this.OnCreateUrl(),this.request.get_async()?true:false);};AjaxHttpComposerXHR.prototype.OnEncodeExplicitGetParams=function(){var parms=this.request.get_getparams();if(params!=null){}};AjaxHttpComposerXHR.prototype.OnCreateUrl=function(){var url=this.request.get_url();return url+"";};AjaxHttpComposerXHR.prototype.OnFillHeaders=function(){var hdrs=this.requesr.get_headers();for(var hname in hdrs){this.xhr.setRequestHeader(hname,hdrs[hname]);}};AjaxHttpComposerXHR.prototype.OnEncodeData=function(){throw"override me";};AjaxHttpComposerXHR.prototype.OnFillStandardXHR=function(){this.OnEncodeExplicitGetParams();};