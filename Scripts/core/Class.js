Function.classes=new Object();Function.interfaces=new Object();Function.interfaceImplementers=new Object();function Class(class_name){if(typeof class_name=="string"){if(typeof Function.classes[class_name]=="function")return Function.classes[class_name];throw"Class "+class_name+" is not defined.";}if(Function.classes["BaseObject"]!=null&&BaseObject.is(class_name,"BaseObject")){return Function.classes[class_name.classType()];}return null;}function Interface(if_name){if(typeof if_name=="string"){if(typeof Function.interfaces[if_name]=="function")return Function.interfaces[if_name];throw"Interface "+if_name+" is not defined.";}return null;}function InterfaceImplementer(if_name){if(typeof if_name=="string"){if(typeof Function.interfaceImplementers[if_name]=="function")return Function.interfaceImplementers[if_name];throw"Interface implementer "+if_name+" is not defined.";}return null;}(function(_){var Class={is:function(cls,clsOrProt){var typeName=this.getTypeName(clsOrProt);if(typeName==null)return false;var cur=cls;if(typeof cls=="string"){cur=this.getClassDef(cls);}if(cur==null)return false;var tk=this.typeKind(cur);if(tk=="interface"){if(cur.classType==typeName)return true;return this.doesextend(cur,typeName);}else if(tk=="class"){if(cur.classType==typeName)return true;if(cur.interfaces&&cur.interfaces[typeName])return true;if(cur.parent)return Class.is(cur.parent.constructor,typeName);}return false;},supports:function(cls,prot){var cur=cls;if(typeof cls=="string"){cur=this.getType(cls);}if(cls==null)return false;if(cur.interfaces&&cur.interfaces[prot])return true;if(cur.parent)return Class.supports(cur.parent.constructor,prot);return false;},fullClassType:function(cls,childClasses){var s=childClasses?childClasses:"";s=cls.classType+(s.length>0?"::"+s:"");if(cls.parent!=null&&cls.parent.constructor!=Object)return Class.fullClassType(cls.parent.constructor,s);return s;},inheritedClasses:function(_cls){var cls=Class.getClassDef(_cls);var results=[];function _(__){if(__.parent!=null&&__.parent.constructor!=Object){results.push(Class.getClassName(__.parent.constructor));return _(__.parent.constructor);}}_(cls);return results;},inheritedClassDefs:function(_cls){var cls=Class.getClassDef(_cls);var results=[];function _(__){if(__.parent!=null&&__.parent.constructor!=Object){results.push(Class.getClassDef(__.parent.constructor));return _(__.parent.constructor);}}_(cls);return results;},supportedInterfaces:function(_cls,arr,extending){var cls=Class.getClassDef(_cls);var cur=cls;var a=arr!=null?arr:[];if(cls==null)return a;var p;if(extending!=null){if(cur.interfaces!=null){for(p in cur.interfaces){if(p!=null&&p.length>0&&Class.doextend(p,extending)){a.addElement(p);}}}if(cur.parent)return Class.supportedInterfaces(cur.parent.constructor,a,extending);return a;}else{if(cur.interfaces!=null){for(p in cur.interfaces){if(p!=null&&p.length>0){a.addElement(p);}}}if(cur.parent)return Class.supportedInterfaces(cur.parent.constructor,a);return a;}},implementors:function(prot){var arr=[];for(var c in Function.classes){if(Class.is(Function.classes[c],prot))arr.push(c);}return arr;},funcDoc:function(func){if(typeof func=="function"){return{description:func.$description,hidden:func.$hidden,parameters:func.$paramDescriptions,returns:func.$returns,remarks:func.$remarks};}else{return null;}},getInterfaceDef:function(iface){if(typeof iface=="string"){if(Function.interfaces[iface])return Function.interfaces[iface];}else if(typeof iface=="function"&&typeof iface.classType=="string"){if(Function.interfaces[iface.classType])return Function.interfaces[iface.classType];}return null;},getInterfaceName:function(iface){if(typeof iface=="string"){if(Function.interfaces[iface]!=null){return iface;}}else if(typeof iface=="function"){var name=typeof iface.classType=="string"?iface.classType:null;if(Function.interfaces[name]!=null){return name;}}return null;},doesextend:function(inspected,iface){var def=this.getInterfaceDef(inspected);if(def==null)return false;if(Class.getInterfaceName(inspected)==Class.getInterfaceName(iface))return true;if(def.extendsInterfaces){if(Class.getInterfaceName(iface)in def.extendsInterfaces)return true;for(var k in def.extendsInterfaces){if(Class.doesextend(def.extendsInterfaces[k],iface))return true;}}return false;},extendedInterfaces:function(iface,arrcollect){var ifacedef=this.getInterfaceDef(iface);var arr=arrcollect||[];if(ifacedef==null)return arr;if(ifacedef.extendsInterfaces!=null){for(var k in ifacedef.extendsInterfaces){this.extendedInterfaces(ifacedef.extendsInterfaces[k],arr);}};arr.addElement(ifacedef.classType);return arr;},extendedInterfaceDefs:function(iface,arrcollect){var ifacedef=this.getInterfaceDef(iface);var arr=arrcollect||[];if(ifacedef==null)return arr;if(ifacedef.extendsInterfaces!=null){for(var k in ifacedef.extendsInterfaces){this.extendedInterfaceDefs(ifacedef.extendsInterfaces[k],arr);}};arr.addElement(ifacedef);return arr;},isrequestable:function(iface){return Class.doesextend("IRequestInterface");},interfaceKinds:function(iface){var arr=["interface"];if(this.isrequestable(iface))arr.push("requestable");if(this.ismanaged(iface))arr.push("managed");return arr;},ismanaged:function(iface){return Class.doesextend("IManagedInterface");},typeKind:function(def){var d=Class.getClassDef(def);if(d!=null)return"class";d=Class.getInterfaceDef(def);if(d!=null)return"interface";return null;},getTypeName:function(cls){var name=this.getInterfaceName(cls);if(typeof name=="string")return name;name=this.getClassName(cls);return name;},getClassDef:function(cls){if(BaseObject.is(cls,"BaseObject")){var o=Function.classes[cls.classType()];return o!=null?o:BaseObject;}else if(typeof cls=="function"&&typeof cls.classType=="string"){return Function.classes[cls.classType];}else if(typeof cls=="string"){return Function.classes[cls];}return null;},getType:function(t){var o=this.getInterfaceDef(t);if(o==null)o=this.getClassDef(t);return o;},supportsMember:function(type,member){var def=this.getType(type);if(def!=null&&def.prototype[member]!=null)return true;return false;},supportsMethod:function(type,member){var def=this.getType(type);if(def!=null&&typeof def.prototype[member]=="function")return true;return false;},getClassName:function(cls){if(BaseObject.is(cls,"BaseObject")){return cls.classType();}else if(typeof cls=="function"&&typeof cls.classType=="string"){var name=cls.classType;if(Function.classes[name]!=null)return name;}else if(typeof cls=="string"){if(Function.classes[cls]!=null)return cls;}return null;},notImplemented:function(_this,member){return"Member "+_this.classType+".prototype."+member+" is not implemented";},defaultsOf:function(cls){var c=this.getClassDef(cls);if(c!=null){return new DefaultsMgr(c);}throw"Cannot find class definition";},classDataOf:function(cls,dataType){if(typeof dataType=="string"){var c=this.getClassDef(cls);if(c!=null){return new ClassDataMgr(c);}throw"Cannot find class definition";}else{return null;}},interfaceDataOf:function(cls,iface){var iface_name=Class.getInterfaceName(iface);if(iface_name!=null){if(Class.is(cls,iface)){return Class.classDataOf(cls,iface_name);}else{return null;}}else{return null;}},classes:function(filterproc){var result=[];for(var cls in Function.classes){if(typeof filterproc!="function"||filterproc(cls)){result.push(cls);}}return result;},interfaces:function(filterproc){var result=[];for(var cls in Function.interfaces){if(!Function.interfaces.hasOwnProperty(cls))continue;if(typeof filterproc!="function"||filterproc(cls)){result.push(cls);}}return result;},interfaceImplementers:function(filterproc){var result=[];for(var cls in Function.interfaceImplementers){if(!Function.interfaceImplementers.hasOwnProperty(cls))continue;if(typeof filterproc!="function"||filterproc(cls)){result.push(cls);}}return result;},classDefinitions:function(filterproc){var result=[];for(var cls in Function.classes){if(!Function.classes.hasOwnProperty(cls))continue;if(typeof filterproc!="function"||filterproc(Function.classes[cls])){result.push(Function.classes[cls]);}}return result;},interfaceDefinitions:function(filterproc){var result=[];for(var cls in Function.interfaces){if(!Function.interfaces.hasOwnProperty(cls))continue;if(typeof filterproc!="function"||filterproc(Function.interfaces[cls])){result.push(Function.interfaces[cls]);}}return result;},implementerDefinitions:function(filterproc){var result=[];for(var cls in Function.interfaceImplementers){if(!Function.interfaceImplementers.hasOwnProperty(cls))continue;if(typeof filterproc!="function"||filterproc(Function.interfaceImplementers[cls])){result.push(Function.interfaceImplementers[cls]);}}return result;},returnTypeOf:function(def,method){var t=this.getType(def);if(t!=null){if(t.prototype&&typeof t.prototype[method]=="function"){return Class.getType(t.prototype[method].$returnType);}}return null;},chunkTypeOf:function(def,method){var t=this.getType(def);if(t!=null){if(t.prototype&&typeof t.prototype[method]=="function"){var ct=Class.getType(t.prototype[method].$chunkType);if(ct==null)return Class.returnTypeOf(def,method);}}return null;},eventArgumentsOf:function(def,eventdecl){var t=this.getType(def);if(t!=null){if(t.prototype&&BaseObject.is(t.prototype[eventdecl],"InitializeEvent")){var argtypes=t.prototype[eventdecl].$argumentTypes;if(BaseObject.is(argtypes,"Array")){argtypes=Array.createCopyOf(argtypes);for(var i=0;i<argtypes.length;i++){var arg=Class.getType(argtypes[i]);if(arg!=null){argtypes[i]=arg;}else{argtypes[i]=null;}}return argtypes;}}}return null;},argumentsOf:function(def,method){var t=this.getType(def);if(t!=null){if(t.prototype&&typeof t.prototype[method]=="function"){var argtypes=t.prototype[method].$argumentTypes;if(BaseObject.is(argtypes,"Array")){argtypes=Array.createCopyOf(argtypes);for(var i=0;i<argtypes.length;i++){var arg=Class.getType(argtypes[i]);if(arg!=null){argtypes[i]=arg;}else{argtypes[i]=null;}}return argtypes;}}}return null;},argumentOf:function(def,method,index){var args=Class.argumentsOf(def,method);if(args!=null)return args[index];return null;}};Class.doextend=Class.doesextend;Class.isexending=Class.doesextend;Class.implementers=Class.implementors;for(var k in Class){_[k]=Class[k];}})(Class);