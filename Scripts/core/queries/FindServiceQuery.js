function FindServiceQuery(iface,reason){this.Interface=iface;this.reason=reason;this.result=null;}FindServiceQuery.Inherit(BaseObject,"FindServiceQuery");FindServiceQuery._handle=function(_this,query,ifacelist,reasonlist){if(BaseObject.is(query,"FindServiceQuery")){if(BaseObject.is(_this,query.Interface)){if(BaseObject.is(ifacelist,"Array")){if(ifacelist.FirstOrDefault(function(idx,item){if(item==query.Interface)return true;return null;})!=true){return false;}}if(BaseObject.is(reasonlist,"Array")){if(query.reason!=null){if(reasonlist.FirstOrDefault(function(idx,item){if(item==query.reason)return true;return null;})!=true){return false;}}}query.result=_this;return true;}}return false;};FindServiceQuery.handleEx=function(_this,query,ifacelist,reasonlist){if(BaseObject.is(query,"FindServiceQuery")){var r=null;if(BaseObject.is(_this,"IServiceLocator")){r=_this.locateService(query.Interface,query.reason);if(r!=null){query.result=r;return true;}}if(ifacelist!=null){return this._handle(_this,query,ifacelist,reasonlist);}}return false;};FindServiceQuery.findService=function(el,iface,reason){var p=new FindServiceQuery(iface,reason);if(BaseObject.is(el,"IStructuralQueryEmiter")){if(el.throwStructuralQuery(p))return p.result;}else{if(JBUtil.throwStructuralQuery(el,p))return p.result;}return null;};FindServiceQuery.findService_old=function(_this,iface,reason){var el=null;if(BaseObject.is(_this,"Base")){el=_this.root;}else{el=_this;}var p=new FindServiceQuery(iface,reason);if(JBUtil.throwStructuralQuery(el,p))return p.result;return null;};FindServiceQuery.handle=FindServiceQuery.handleEx;