function BKUrlObjectBase(str,bdecode,bencode){BaseObject.apply(this,arguments);if(bdecode===true||bdecode===false){this.set_decode(bdecode);}if(bencode===true||bencode===false){this.set_encode(bencode);}if(typeof str=="string"){if(str.length>0){if(!this.set_source(str)){throw"cannot parse";}}}else if(str!=null){if(!this.set_source(str+"")){throw"cannot parse";}}}BKUrlObjectBase.Inherit(BaseObject,"BKUrlObjectBase");BKUrlObjectBase.Implement(IBKUrlObject);BKUrlObjectBase.prototype.$blockencoding=false;BKUrlObjectBase.prototype.$encode=true;BKUrlObjectBase.prototype.get_encode=function(){return this.$encode;};BKUrlObjectBase.prototype.set_encode=function(v){this.$encode=v;};BKUrlObjectBase.prototype.$decode=true;BKUrlObjectBase.prototype.get_decode=function(){return this.$decode;};BKUrlObjectBase.prototype.set_decode=function(v){this.$decode=v;};BKUrlObjectBase.prototype.get_source=function(){return this.composeAsString();};BKUrlObjectBase.prototype.$copyFrom=function(v){return this.set_source(v+"");};BKUrlObjectBase.prototype.copyFrom=function(v){if(BaseObject.is(v,this.classType())){return this.$copyFrom(v);}return false;};BKUrlObjectBase.prototype.createNew=function(str){var cls=this.classDefinition();var inst=new cls(str,this.get_decode(),this.get_encode());return inst;};BKUrlObjectBase.prototype.set_source=function(v){if(BaseObject.is(v,this.classType())){return this.copyFrom(v);}if(typeof v!="string"&&v!=null)v=v+"";if(!this.readAsString(v)){if(this.get_throwonerror()){throw"Invalid value assinged to set_source in class "+this.classType();}return false;}return true;};BKUrlObjectBase.prototype.$throwonerror=false;BKUrlObjectBase.prototype.get_throwonerror=function(){return this.$throwonerror;};BKUrlObjectBase.prototype.set_throwonerror=function(v){this.$throwonerror=v;};BKUrlObjectBase.prototype.$combine=function(v){if(!v.get_isempty()){return this.copyFrom(v);}return true;};BKUrlObjectBase.prototype.set_nav=function(v){if(this.isempty(v))return true;if(BaseObject.is(v,this.classType())){if(!v.get_isempty()){return this.$combine(v);}return true;}else{if(typeof v!="string"&&v!=null)v=v+"";var cls=this.classDefinition();var inst=this.createNew();if(this.is("IBKUrlPart")){inst.set_parent(this.get_parent());}var b=inst.readAsString(v);if(b){b=this.$combine(inst);}if(this.is("IBKUrlPart")){inst.set_parent(null);}return b;}return false;};BKUrlObjectBase.prototype.get_isempty=function(){throw"not implemented";};BKUrlObjectBase.prototype.readAsString=function(v){throw"not implemented";};BKUrlObjectBase.prototype.composeAsString=function(){throw"not implemented";};BKUrlObjectBase.prototype.clear=function(){throw"not implemented";};BKUrlObjectBase.prototype.toString=function(){return this.composeAsString()||"";};BKUrlObjectBase.prototype.nullIfEmpty=function(v){if(v==null)return null;if(typeof v=="string"){if(v.length>0){return v;}}return null;};BKUrlObjectBase.prototype.isempty=function(v){if(v==null||typeof v=="string"&&v.length==0)return true;return false;};BKUrlObjectBase.$reRFC3986addition=/[!'()*]/g;BKUrlObjectBase.$replacerRFC3986addition=function(c){return'%'+c.charCodeAt(0).toString(16);};BKUrlObjectBase.encodeURIComponentRFC3986=function(v){return encodeURIComponent(v).replace(BKUrlObjectBase.$reRFC3986addition,BKUrlObjectBase.$replacerRFC3986addition);};BKUrlObjectBase.decodeURIComponentRFC3986=function(v){return decodeURIComponent(v);};BKUrlObjectBase.prototype.deCode=function(v){if(typeof v!="string")return v;if(this.$decode&&!this.$blockencoding)return BKUrlObjectBase.decodeURIComponentRFC3986(v);return v;};BKUrlObjectBase.prototype.enCode=function(v){if(typeof v!="string")return v;if(this.$encode&&!this.$blockencoding)return BKUrlObjectBase.encodeURIComponentRFC3986(v);return v;};BKUrlObjectBase.prototype.validateNotEncoded=function(re,v){if(v==null)return true;if(typeof v!="string")v=v+"";try{var x=BKUrlObjectBase.encodeURIComponentRFC3986(v);if(typeof x=="string"){return re.test(x);}return false;}catch(e){return false;}};