function TaskDispenser(){BaseObject.apply(this,arguments);}TaskDispenser.Inherit(BaseObject,"TaskDispenser");TaskDispenser.prototype.tasks=new InitializeArray("Dispenser's tasks");TaskDispenser.prototype.post=function(task,target,comparable,conditionCallback){this.tasks.push({task:task,target:target,comparable:comparable,condition:conditionCallback});};TaskDispenser.prototype.query=function(target,comparable,param){var arr=this.tasks.Select(function(idx,task){if(task==null)return null;if(target==null||task.target==null||target==task.target||BaseObject.is(target,"string")&&BaseObject.is(task.target,target)){if(comparable==null||task.comparable==null||task.comparable==comparable){if(task.condition==null||BaseObject.callCallback(task.condition,task,target,comparable,param)){return task.task;}}}return null;});return arr;};TaskDispenser.prototype.done=function(task_in){if(task_in==null)return;this.tasks.Delete(function(idx,task){if(task.task==task_in)return true;return false;});};TaskDispenser.prototype.remove=function(target,comparable,condition,param){this.tasks.Delete(function(idx,task){if(target==null||target==task.target){if(comparable!=null&&comparable==task.comparable){if(condition==null||BaseObject.callCallback(condition,task,target,comparable,param)){return true;}}}return false;});};