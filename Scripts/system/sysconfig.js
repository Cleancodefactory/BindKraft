(function(g){var fs;if(!Registers.Default().registerExists("bootfs")){Registers.Default().addRegister(new MemoryFSDirectory("bootfs"));}if(!Registers.Default().registerExists("shellfs")){Registers.Default().addRegister(new MemoryFSDirectory("shellfs"));fs=Registers.Default().getRegister("shellfs");var rc=fs.mkdir("recent");fs.mkdir("apps");fs.mkdir("startmenu");fs.mkdir("keylaunch");fs.mkdir("recent");fs.mkdir("system");fs.mkdir("develop");fs.mkdir("private");}if(!Registers.Default().registerExists("infofs")){Registers.Default().addRegister(new MemoryFSDirectory("infofs"));fs=Registers.Default().getRegister("infofs");fs.mkdir("appinfo");}if(!Registers.Default().registerExists("appfs")){Registers.Default().addRegister(new MemoryFSDirectory("appfs"));fs=Registers.Default().getRegister("appfs");var system=fs.mkdir("system");var f,dir;dir=system.mkdir("urlcommands");f=new PropertySetMemoryFile();dir.register("general",f);f.setProps({prefix:"$run"});dir.mkdir("scripts");dir.mkdir("aliases");}var settings=System.Default().settings;settings.CurrentLang="en";settings.DefaultTransferDateEncoding="ISO";settings.UltimateFallBackLocale="en";document.addEventListener("DOMContentLoaded",function(event){CompileTime.Tasks.run("completion");CompileTime.finish();CompileTime.Tasks=null;var bootfs=Registers.Default().getRegister("bootfs");if(bootfs!=null){var bootscript=bootfs.item("boot");if(bootscript!=null){var op=Commander.RunGlobal(bootscript.get_script());op.whencomplete().tell(function(_op){console.log("Boot finished "+(_op.isOperationSuccessful()?"successfuly":"unsuccessfuly"));});}else{alert("the boot script is not found.");}}else{alert("bootfs is not mounted");}});})(window);