function LocalAPIClient(objapis,lapi,lapi1,lapiN){BaseObject.apply(this,arguments);this.$localapis=[];if(arguments.length>0){for(var i=0;i<arguments.length;i++){if(BaseObject.is(arguments[i],"LocalAPI")){this.$localapis.push(arguments[i]);}else if(BaseObject.is(arguments[i],"Array")){for(var j=0;j<arguments[i].length;j++){if(BaseObject.is(arguments[i][j],"LocalAPI")){this.$localapis.push(arguments[i][j]);}}}}}if(this.$localapis==null||this.$localapis.length==0){var configuredAPI=System.Default().get_settings("localAPI",null);if(BaseObject.is(configuredAPI,"LocalAPI")){this.$localapis.push(configuredAPI);}this.$localapis.push(LocalAPI.Default());}this.$container=new LocalProxyContainer();this.$objapis={};if(objapis!=null&&typeof objapis=="object"&&!BaseObject.is(objapis,"LocalAPI")){for(var k in objapis){this.attachAPI(k,objapis[k]);}this.$objapis=objapis;}}LocalAPIClient.Inherit(BaseObject,"LocalAPIClient");LocalAPIClient.prototype.obliterate=function(){this.releaseAll();BaseObject.prototype.obliterate.apply(this,arguments);};LocalAPIClient.prototype.$localapis=null;LocalAPIClient.prototype.$objapis=null;LocalAPIClient.prototype.API=new InitializeObject("API proxies go here under their interface names.");LocalAPIClient.prototype.$container=null;LocalAPIClient.prototype.getAPI=function(ifacedef_or_name){var ifacename=Class.getInterfaceName(ifacedef_or_name);if(ifacename==null){this.LASTERROR(_Errors.compose(),"The argument did not resolve to an interface","getAPI");return null;}if(!BaseObject.is(this.API[ifacename],ifacedef_or_name)){if(this.attachAPIConf(ifacedef_or_name)){return this.API[ifacename];}}if(BaseObject.is(this.API[ifacename],ifacedef_or_name)){return this.API[ifacename];}this.attachAPI(ifacedef_or_name);if(BaseObject.is(this.API[ifacename],ifacedef_or_name)){return this.API[ifacename];}this.LASTERROR(_Errors.compose(),"Cannot find the requested interface in the configured LocalAPI hubs");return null;};LocalAPIClient.prototype.attachAPIConf=function(ifacedef_or_name){var ifacename=Class.getInterfaceName(ifacedef_or_name);if(ifacename!=null&&ifacename in this.$objapis){var variation=null;if(this.$objapis!=null&&this.$objapis[ifacename]!=null){variation=this.$objapis[ifacename];}return this.attachAPI(ifacedef_or_name,variation);}else{return false;}};LocalAPIClient.prototype.attachAPI=function(iface,variation){if(BaseObject.is(this.$localapis,"Array")){var pxy=null,lpxy=null;for(var i=0;i<this.$localapis.length;i++){var la=this.$localapis[i];if(BaseObject.is(la,"LocalAPI")){pxy=la.getAPI(iface,variation);if(pxy!=null){lpxy=pxy.GetInterface();if(lpxy!=null){lpxy=this.$container.register(lpxy);this.API[Class.getInterfaceName(iface)]=lpxy;return true;}else{this.LASTERROR(_Errors.compose(),"Cannot clone the LocalAPI proxy for "+Class.getInterfaceName(iface),"attachAPI");}}}}}return false;};LocalAPIClient.prototype.releaseAll=function(){this.$container.releaseAll();BaseObject.ClearObject(this.API);};